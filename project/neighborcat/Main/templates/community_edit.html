<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <form method="POST">
        {% csrf_token %}
        <input type="text" name="title" id="title">제목
        <input type="text" name="category" id="category">카테고리
        <input type="text" name="body" id="body">내용
        <div>
            <div class="button">
                <label for="chooseFile">
                    이미지 첨부
                </label>
            </div>
            <input type="file" id="chooseFile" name="image" accept="image/*" onchange="loadFile(this)">
        </div>
        <input type="text" name="title" id="title">제목    
        <button type="submit">글 수정하기</button>
    </form>
</body>
<script>
    function loadFile(input) {
    var file = input.files[0];	//선택된 파일 가져오기

    //미리 만들어 놓은 div에 text(파일 이름) 추가
    var name = document.getElementById('fileName');
    name.textContent = file.name;

  	//새로운 이미지 div 추가
    var newImage = document.createElement("img");
    newImage.setAttribute("class", 'img');

    //이미지 source 가져오기
    newImage.src = URL.createObjectURL(file);   

    newImage.style.width = "70%";
    newImage.style.height = "70%";
    newImage.style.visibility = "hidden";   //버튼을 누르기 전까지는 이미지를 숨긴다
    newImage.style.objectFit = "contain";

    //이미지를 image-show div에 추가
    var container = document.getElementById('image-show');
    container.appendChild(newImage);
};
</script>
</html>